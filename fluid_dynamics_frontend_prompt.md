# 流体力学仿真模拟系统前端设计提示词

## 总体设计理念

创建一个现代化、专业的流体力学仿真模拟平台，融合科研精度与教学友好性，通过沉浸式3D可视化和直观的参数控制，让复杂的流体力学概念变得生动易懂。

## ✓ 1. 页面布局与视觉风格

### ✓ 长页面滚动式设计
- ✓ **Hero区域**: 全屏3D流体动画背景，展示经典流体现象（如卡门涡街、湍流等）
- ✓ **渐进式信息展示**: 采用视差滚动，每个区块独立呈现不同功能模块
- ✓ **深色主题**: 专业的深蓝-黑色渐变背景，突出3D仿真效果
- ✓ **玻璃态设计**: 半透明控制面板，光滑玻璃效果，营造科技感
- ✓ **流体元素**: UI元素采用流线型设计，呼应流体力学主题

### ✓ 响应式布局
- ✓ **桌面端**: 左侧参数控制面板，中心3D仿真区域，右侧数据分析面板
- ✓ **移动端**: 底部抽屉式参数控制，全屏3D展示，滑动切换功能模块
- ✓ **平板端**: 可折叠侧边栏，支持手势操作3D场景

## 2. 核心功能模块

### 2.1 3D仿真引擎界面
- **实时3D渲染**: 使用WebGL/Three.js构建高性能3D场景
- **多视角切换**: 
  - 宏观视角：整体流场观察
  - 微观视角：粒子级别追踪
  - 截面视角：2D切片分析
  - 自由视角：用户自定义观察角度

### 2.2 参数控制中心
- **流体属性控制**:
  ```
  ├── 基础属性
  │   ├── 密度 (ρ) - 滑块控制
  │   ├── 粘度 (μ) - 对数刻度滑块
  │   ├── 温度 (T) - 数值输入+滑块
  │   └── 压力 (P) - 实时调节
  ├── 流动参数
  │   ├── 雷诺数 (Re) - 自动计算+手动设置
  │   ├── 马赫数 (Ma) - 可压缩流动
  │   ├── 佛汝德数 (Fr) - 自由表面流动
  │   └── 韦伯数 (We) - 表面张力效应
  └── 边界条件
      ├── 入口速度分布
      ├── 出口压力条件
      ├── 壁面条件（无滑移/滑移）
      └── 对称/周期边界
  ```

- **几何体设置**:
  - **预设几何**: 圆柱、球体、翼型、楔形等经典算例
  - **自定义建模**: 在线几何编辑器，支持NURBS曲面
  - **尺寸控制**: 实时缩放、旋转、位移
  - **多体组合**: 复杂几何装配

### 2.3 知识库与实验模拟
- **经典实验库**:
  - 圆柱绕流（卡门涡街）
  - 翼型升力机理
  - 管道流动（泊肃叶流）
  - 射流混合
  - 空化现象
  - 激波管问题

- **教学案例**:
  - 分步骤引导式学习
  - 交互式概念解释
  - 参数敏感性分析
  - 理论公式动态验证

### 2.4 数据分析与可视化
- **流场可视化**:
  - 流线图、迹线图、染色线图
  - 速度矢量场
  - 压力等值线/等值面
  - 涡量场分布
  - 湍流强度云图

- **定量分析工具**:
  - 实时数据探针
  - 线积分/面积分计算
  - 力系数监测（阻力、升力）
  - 频谱分析（FFT）
  - 统计量计算

### 2.5 生活现象与文化应用
- **生活现象模拟**:
  - 汽车空气动力学
  - 建筑物风载
  - 游泳/航行阻力
  - 天气现象（龙卷风、台风）
  - 鸟类飞行机理

- **传统文化元素**:
  - 中国古代水利工程（都江堰分流）
  - 帆船航行原理
  - 传统建筑通风设计
  - 古代冶金鼓风技术
  - 茶道中的流体美学

## 3. 交互设计与动画

### 3.1 微交互设计
- **参数调节反馈**: 实时数值变化动画，颜色渐变指示
- **加载动画**: 流体粒子聚合效果
- **状态转换**: 平滑的easing函数，营造专业感
- **手势支持**: 触摸缩放、旋转、平移3D场景

### 3.2 动画时序
- **启动动画**: 3秒流体汇聚品牌logo效果
- **页面切换**: 流体过渡动画，保持视觉连续性
- **数据更新**: 粒子流动效果展示计算过程
- **结果展示**: 从点到面的数据可视化展开动画

### 3.3 性能优化
- **LOD系统**: 根据距离动态调整粒子密度
- **异步加载**: 分块加载3D资源，避免阻塞
- **GPU加速**: 充分利用WebGL并行计算能力

## 4. 微观分析功能

### 4.1 区域选择工具
- **3D选择框**: 立体区域框选
- **球形/柱形区域**: 不同几何形状的分析域
- **自定义路径**: 沿流线或用户绘制路径分析
- **多区域对比**: 同时分析多个区域，对比展示

### 4.2 独立数据分析
- **局部网格细化**: 选中区域自动加密网格
- **微分方程展示**: 实时显示控制方程在该区域的形式
- **数据导出功能**:
  - CSV格式的数值数据
  - VTK格式的3D场数据
  - PDF格式的分析报告
  - MP4格式的动画序列

### 4.3 专业分析工具
- **涡识别**: Q准则、λ2准则等涡识别方法
- **边界层分析**: 壁面剪应力、边界层厚度
- **湍流分析**: 雷诺应力、湍动能分布
- **传热分析**: 温度场、换热系数分布

## 5. 技术实现要求

### ✓ 5.1 前端技术栈
- **核心框架**: React 18 + TypeScript
- **3D渲染**: Three.js + React Three Fiber
- **UI组件**: Tailwind CSS + Framer Motion
- **状态管理**: Zustand (轻量级状态管理)
- **数据可视化**: D3.js + Recharts
- **数学计算**: Math.js (前端辅助计算)

### ✓ 5.2 组件架构
```
src/
├── components/
│   ├── 3D/
│   │   ├── Scene3D.tsx        # 主3D场景
│   │   ├── FluidRenderer.tsx  # 流体渲染器
│   │   ├── GeometryEditor.tsx # 几何编辑器
│   │   └── DataProbe.tsx      # 数据探针
│   ├── Controls/
│   │   ├── ParameterPanel.tsx # 参数控制面板
│   │   ├── SimulationControls.tsx # 仿真控制
│   │   └── ViewControls.tsx   # 视图控制
│   ├── Analysis/
│   │   ├── DataVisualization.tsx # 数据可视化
│   │   ├── RegionSelector.tsx # 区域选择器
│   │   └── ExportManager.tsx  # 导出管理
│   └── Knowledge/
│       ├── ExperimentLibrary.tsx # 实验库
│       ├── TutorialGuide.tsx     # 教程向导
│       └── CulturalExamples.tsx  # 文化案例
├── hooks/
│   ├── useSimulation.ts       # 仿真状态管理
│   ├── use3DScene.ts         # 3D场景管理
│   └── useDataAnalysis.ts    # 数据分析
└── utils/
    ├── mathUtils.ts          # 数学工具函数
    ├── exportUtils.ts        # 导出工具
    └── animationUtils.ts     # 动画工具
```

### 5.3 性能优化策略
- **虚拟化渲染**: 大量粒子的LOD管理
- **Worker线程**: 复杂计算移至Web Worker
- **缓存策略**: 结果缓存，避免重复计算
- **懒加载**: 按需加载教学资源和模型

### 5.4 无障碍设计
- **键盘导航**: 完整的键盘操作支持
- **语音描述**: 为视觉障碍用户提供场景描述
- **高对比度模式**: 可切换的高对比度主题
- **字体缩放**: 支持用户自定义字体大小

## 6. 用户体验设计

### 6.1 新手引导
- **交互式教程**: 5分钟快速上手指南
- **提示系统**: 智能提示下一步操作
- **示例项目**: 预设多个经典案例快速体验

### 6.2 专业模式
- **快捷键支持**: 常用操作的键盘快捷键
- **批处理**: 多参数扫描和批量计算
- **脚本接口**: 支持JavaScript脚本自动化操作

### 6.3 协作功能
- **项目分享**: 生成分享链接，他人可查看仿真结果
- **云端保存**: 项目自动保存到云端
- **评论系统**: 在3D场景中添加标注和评论

## 7. 数据交互接口

### 7.1 后端通信
- **WebSocket**: 实时仿真数据传输
- **REST API**: 项目管理、用户认证
- **文件上传**: 几何文件、边界条件文件上传
- **进度反馈**: 计算进度实时显示

### 7.2 数据格式
- **输入**: JSON格式的参数配置
- **输出**: 
  - 3D场数据（压缩格式）
  - 时序数据（CSV/JSON）
  - 图像/动画（WebP/WebM）

这个前端系统将成为流体力学学习和研究的强大工具，通过直观的可视化和强大的交互功能，让复杂的流体现象变得易于理解和探索。